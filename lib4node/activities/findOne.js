"use strict";
var util = require('util');
var Query = require('./query');
function FindOne() {
  Query.call(this);
}
util.inherits(FindOne, Query);
FindOne.prototype.doQuery = function(callContext, query) {
  var coll = callContext.activity.getCollection(this);
  coll.findOne(query || {}, this.get('options'), function(err, result) {
    if (err) {
      callContext.fail(err);
    } else {
      callContext.complete(result);
    }
  });
};
module.exports = FindOne;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmRPbmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxBQUFJLEVBQUEsQ0FBQSxJQUFHLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxNQUFLLENBQUMsQ0FBQztBQUMxQixBQUFJLEVBQUEsQ0FBQSxLQUFJLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxTQUFRLENBQUMsQ0FBQztBQUU5QixPQUFTLFFBQU0sQ0FBRSxBQUFELENBQUc7QUFDZixNQUFJLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ3BCO0FBQUEsQUFFQSxHQUFHLFNBQVMsQUFBQyxDQUFDLE9BQU0sQ0FBRyxNQUFJLENBQUMsQ0FBQztBQUU3QixNQUFNLFVBQVUsUUFBUSxFQUFJLFVBQVMsV0FBVSxDQUFHLENBQUEsS0FBSSxDQUFHO0FBQ3JELEFBQUksSUFBQSxDQUFBLElBQUcsRUFBSSxDQUFBLFdBQVUsU0FBUyxjQUFjLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQztBQUNuRCxLQUFHLFFBQVEsQUFBQyxDQUFDLEtBQUksR0FBSyxHQUFDLENBQUcsQ0FBQSxJQUFHLElBQUksQUFBQyxDQUFDLFNBQVEsQ0FBQyxDQUFHLFVBQVMsR0FBRSxDQUFHLENBQUEsTUFBSyxDQUFHO0FBQ2pFLE9BQUksR0FBRSxDQUFHO0FBQ0wsZ0JBQVUsS0FBSyxBQUFDLENBQUMsR0FBRSxDQUFDLENBQUM7SUFDekIsS0FDSztBQUNELGdCQUFVLFNBQVMsQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0lBQ2hDO0FBQUEsRUFDSixDQUFDLENBQUM7QUFDTixDQUFBO0FBRUEsS0FBSyxRQUFRLEVBQUksUUFBTSxDQUFDO0FBQUEiLCJmaWxlIjoiYWN0aXZpdGllcy9maW5kT25lLmpzIiwic291cmNlUm9vdCI6IkM6L0dJVC9tb25nby1jcnVuY2gvbGliLyIsInNvdXJjZXNDb250ZW50IjpbInZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xyXG52YXIgUXVlcnkgPSByZXF1aXJlKCcuL3F1ZXJ5Jyk7XHJcblxyXG5mdW5jdGlvbiBGaW5kT25lKCkge1xyXG4gICAgUXVlcnkuY2FsbCh0aGlzKTtcclxufVxyXG5cclxudXRpbC5pbmhlcml0cyhGaW5kT25lLCBRdWVyeSk7XHJcblxyXG5GaW5kT25lLnByb3RvdHlwZS5kb1F1ZXJ5ID0gZnVuY3Rpb24oY2FsbENvbnRleHQsIHF1ZXJ5KSB7XHJcbiAgICB2YXIgY29sbCA9IGNhbGxDb250ZXh0LmFjdGl2aXR5LmdldENvbGxlY3Rpb24odGhpcyk7XHJcbiAgICBjb2xsLmZpbmRPbmUocXVlcnkgfHwge30sIHRoaXMuZ2V0KCdvcHRpb25zJyksIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICBjYWxsQ29udGV4dC5mYWlsKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsQ29udGV4dC5jb21wbGV0ZShyZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEZpbmRPbmU7Il19
