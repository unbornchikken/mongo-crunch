"use strict";
"use strict";
var util = require('util');
var Query = require('./query');
function FindOne() {
  Query.call(this);
}
util.inherits(FindOne, Query);
FindOne.prototype.doQuery = function(callContext, query) {
  var coll = callContext.activity.getCollection(this);
  coll.findOne(query || {}, this.get('options'), function(err, result) {
    if (err) {
      callContext.fail(err);
    } else {
      callContext.complete(result);
    }
  });
};
module.exports = FindOne;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmRPbmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxXQUFXLENBQUM7QUFFWixBQUFJLEVBQUEsQ0FBQSxJQUFHLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxNQUFLLENBQUMsQ0FBQztBQUMxQixBQUFJLEVBQUEsQ0FBQSxLQUFJLEVBQUksQ0FBQSxPQUFNLEFBQUMsQ0FBQyxTQUFRLENBQUMsQ0FBQztBQUU5QixPQUFTLFFBQU0sQ0FBRSxBQUFELENBQUc7QUFDZixNQUFJLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ3BCO0FBQUEsQUFFQSxHQUFHLFNBQVMsQUFBQyxDQUFDLE9BQU0sQ0FBRyxNQUFJLENBQUMsQ0FBQztBQUU3QixNQUFNLFVBQVUsUUFBUSxFQUFJLFVBQVMsV0FBVSxDQUFHLENBQUEsS0FBSSxDQUFHO0FBQ3JELEFBQUksSUFBQSxDQUFBLElBQUcsRUFBSSxDQUFBLFdBQVUsU0FBUyxjQUFjLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQztBQUNuRCxLQUFHLFFBQVEsQUFBQyxDQUFDLEtBQUksR0FBSyxHQUFDLENBQUcsQ0FBQSxJQUFHLElBQUksQUFBQyxDQUFDLFNBQVEsQ0FBQyxDQUFHLFVBQVMsR0FBRSxDQUFHLENBQUEsTUFBSyxDQUFHO0FBQ2pFLE9BQUksR0FBRSxDQUFHO0FBQ0wsZ0JBQVUsS0FBSyxBQUFDLENBQUMsR0FBRSxDQUFDLENBQUM7SUFDekIsS0FDSztBQUNELGdCQUFVLFNBQVMsQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0lBQ2hDO0FBQUEsRUFDSixDQUFDLENBQUM7QUFDTixDQUFBO0FBRUEsS0FBSyxRQUFRLEVBQUksUUFBTSxDQUFDO0FBQUEiLCJmaWxlIjoiYWN0aXZpdGllcy9maW5kT25lLmpzIiwic291cmNlUm9vdCI6IkM6L0dJVC9tb25nby1jcnVuY2gvbGliLyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxubGV0IHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XHJcbmxldCBRdWVyeSA9IHJlcXVpcmUoJy4vcXVlcnknKTtcclxuXHJcbmZ1bmN0aW9uIEZpbmRPbmUoKSB7XHJcbiAgICBRdWVyeS5jYWxsKHRoaXMpO1xyXG59XHJcblxyXG51dGlsLmluaGVyaXRzKEZpbmRPbmUsIFF1ZXJ5KTtcclxuXHJcbkZpbmRPbmUucHJvdG90eXBlLmRvUXVlcnkgPSBmdW5jdGlvbihjYWxsQ29udGV4dCwgcXVlcnkpIHtcclxuICAgIGxldCBjb2xsID0gY2FsbENvbnRleHQuYWN0aXZpdHkuZ2V0Q29sbGVjdGlvbih0aGlzKTtcclxuICAgIGNvbGwuZmluZE9uZShxdWVyeSB8fCB7fSwgdGhpcy5nZXQoJ29wdGlvbnMnKSwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNhbGxDb250ZXh0LmZhaWwoZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNhbGxDb250ZXh0LmNvbXBsZXRlKHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRmluZE9uZTsiXX0=
