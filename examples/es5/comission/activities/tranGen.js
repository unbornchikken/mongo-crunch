"use strict";
"use strict";
var es = "es6";
try {
  eval("(function *(){})");
} catch (err) {
  es = "es5";
}
var util = require("util");
var wf4node = require("workflow-4-node");
var Composite = wf4node.activities.Composite;
var path = require("path");
var _ = require("lodash");
function TranGen() {
  Composite.call(this);
  this.collection = null;
  this.size = 1000;
}
util.inherits(TranGen, Composite);
TranGen.prototype.createImplementation = function() {
  return {
    "@require": path.join(__dirname, "../../../../lib/" + es + "/activities"),
    "@block": {
      coll: "= collection",
      args: [{"@for": {
          from: 0,
          to: "= size",
          args: {"@insert": {
              collection: "= coll",
              documents: function() {
                var doc = {
                  _id: this.get("i"),
                  createdAt: new Date()
                };
                function key(num) {
                  num = '' + num;
                  return num.length === 1 ? "0" + num : num;
                }
                var numOfID = 9;
                var maxID = 1000;
                for (var i = 0; i < numOfID; i++) {
                  doc[("itemID" + key(i))] = _.random(1, 10) * 100;
                }
                var numOfChars = 40;
                function genProdCode(i) {
                  var start = "A".charCodeAt(0);
                  var len = (i % 3) + 2;
                  var result = "";
                  for (var x = 0; x < len; x++) {
                    result += String.fromCharCode(start + _.random(0, len - 1));
                  }
                  return result;
                }
                for (var i$__0 = 0; i$__0 < numOfChars; i$__0++) {
                  doc[("prodCode" + key(i$__0))] = genProdCode(i$__0);
                }
                var numOfNumbers = 30;
                var maxNum = 1000000;
                for (var i$__1 = 0; i$__1 < numOfNumbers; i$__1++) {
                  doc[("number" + key(i$__1))] = (maxNum / 2 + (Math.random() * maxNum / 2)) * ((i$__1 + 1) / 30);
                }
                var numOfDates = 20;
                var minDate = new Date(2010, 1, 1);
                var maxDate = new Date(2014, 12, 31);
                var genDate = function() {
                  return new Date(minDate.getTime() + Math.random() * (maxDate.getTime() - minDate.getTime()));
                };
                for (var i$__2 = 0; i$__2 < numOfDates; i$__2++) {
                  doc[("date" + key(i$__2))] = genDate();
                }
                return doc;
              }
            }}
        }}]
    }
  };
};
module.exports = TranGen;
//# sourceMappingURL=data:application/json;base64,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QkFBQSxDQUFBLE9BQU0sRUFBSSxJQUFJLEtBQUcsQUFBQyxDQUFDLElBQUcsQ0FBRyxFQUFBLENBQUcsRUFBQSxDQUFDLENBQUM7QUFDcEMsQUFBTSxrQkFBQSxDQUFBLE9BQU0sRUFBSSxJQUFJLEtBQUcsQUFBQyxDQUFDLElBQUcsQ0FBRyxHQUFDLENBQUcsR0FBQyxDQUFDLENBQUM7QUFDdEMsQUFBSSxrQkFBQSxDQUFBLE9BQU0sRUFBSSxVQUFVLEFBQUQsQ0FBRztBQUN0Qix1QkFBTyxJQUFJLEtBQUcsQUFBQyxDQUFDLE9BQU0sUUFBUSxBQUFDLEVBQUMsQ0FBQSxDQUFJLENBQUEsSUFBRyxPQUFPLEFBQUMsRUFBQyxDQUFBLENBQUksRUFBQyxPQUFNLFFBQVEsQUFBQyxFQUFDLENBQUEsQ0FBSSxDQUFBLE9BQU0sUUFBUSxBQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hHLENBQUM7QUFDRCwrQkFBYSxFQUFBLENBQUcsUUFBSSxXQUFTLENBQUcsUUFBRSxDQUFHO0FBQ2pDLG9CQUFFLEVBQUUsTUFBTSxFQUFDLENBQUEsR0FBRSxBQUFDLE9BQUUsRUFBRyxFQUFJLENBQUEsT0FBTSxBQUFDLEVBQUMsQ0FBQztnQkFDcEM7QUFBQSxBQUVBLHFCQUFPLElBQUUsQ0FBQztjQUNkO0FBQUEsWUFDSixDQUNKO0FBQUEsUUFDSixDQUNKLENBQ0o7QUFBQSxJQUNKO0FBQUEsRUFDSixDQUFDO0FBQ0wsQ0FBQztBQUVELEtBQUssUUFBUSxFQUFJLFFBQU0sQ0FBQztBQUFBIiwiZmlsZSI6ImNvbWlzc2lvbi9hY3Rpdml0aWVzL3RyYW5HZW4uanMiLCJzb3VyY2VSb290IjoiZXhhbXBsZXMvZXM2Iiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgZXMgPSBcImVzNlwiO1xyXG50cnkgeyBldmFsKFwiKGZ1bmN0aW9uICooKXt9KVwiKTsgfSBjYXRjaCAoZXJyKSB7IGVzID0gXCJlczVcIjsgfVxyXG5cclxubGV0IHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcclxubGV0IHdmNG5vZGUgPSByZXF1aXJlKFwid29ya2Zsb3ctNC1ub2RlXCIpO1xyXG5sZXQgQ29tcG9zaXRlID0gd2Y0bm9kZS5hY3Rpdml0aWVzLkNvbXBvc2l0ZTtcclxubGV0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxubGV0IF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xyXG5cclxuZnVuY3Rpb24gVHJhbkdlbigpIHtcclxuICAgIENvbXBvc2l0ZS5jYWxsKHRoaXMpO1xyXG5cclxuICAgIHRoaXMuY29sbGVjdGlvbiA9IG51bGw7XHJcbiAgICB0aGlzLnNpemUgPSAxMDAwO1xyXG59XHJcblxyXG51dGlsLmluaGVyaXRzKFRyYW5HZW4sIENvbXBvc2l0ZSk7XHJcblxyXG5UcmFuR2VuLnByb3RvdHlwZS5jcmVhdGVJbXBsZW1lbnRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgXCJAcmVxdWlyZVwiOiBwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi4uLy4uLy4uLy4uL2xpYi9cIiArIGVzICsgXCIvYWN0aXZpdGllc1wiKSxcclxuICAgICAgICBcIkBibG9ja1wiOiB7XHJcbiAgICAgICAgICAgIGNvbGw6IFwiPSBjb2xsZWN0aW9uXCIsXHJcbiAgICAgICAgICAgIGFyZ3M6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcIkBmb3JcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogXCI9IHNpemVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJAaW5zZXJ0XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBcIj0gY29sbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiB0aGlzLmdldChcImlcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGtleShudW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bSA9ICcnICsgbnVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bS5sZW5ndGggPT09IDEgPyBcIjBcIiArIG51bSA6IG51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gOSB0ZXJt77+9c3pldGVzIGF6b25vc++/vXTvv710IChsZWhldCBr77+9bHPvv70ga3VsY3MgZGUgbW9zdCBjc2FrIGJpZ2ludClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSB0ZXJt77+9c3pldGVzIGF6b25vc++/vXTvv71rIO+/vXJ077+9a2UgMSBz77+9IDEwMDAwIGvvv71677+9dHRpIHbvv71sZXRsZW4gc3rvv71tIG1pbmRlbiB0ZXJt77+9c3pldGVzIGF6b25vc++/vXTvv70gZXNldO+/vW4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bU9mSUQgPSA5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhJRCA9IDEwMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtT2ZJRDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NbYGl0ZW1JRCR7a2V5KGkpfWBdID0gXy5yYW5kb20oMSwgMTApICogMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA0MC0zMC0yMCBrYXJha3RlciAtIHZhbO+/vXMgc3rvv71tIGlsbGV0dmUgZO+/vXR1bSDvv71ydO+/vWtldC5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDQwIGthcmFrdGVyIC0gS2FyYWt0ZXJlayBCKyB0ZXJt77+9a2vvv71kb2suXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bU9mQ2hhcnMgPSA0MDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdlblByb2RDb2RlKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gXCJBXCIuY2hhckNvZGVBdCgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbiA9IChpICUgMykgKyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGxlbjsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoc3RhcnQgKyBfLnJhbmRvbSgwLCBsZW4gLSAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bU9mQ2hhcnM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jW2Bwcm9kQ29kZSR7a2V5KGkpfWBdID0gZ2VuUHJvZENvZGUoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDMwIHZhbO+/vXMgc3rvv71tIC0gc3rvv71tb2sgcG96aXTvv712IHbvv71sZXRsZW5la1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1PZk51bWJlcnMgPSAzMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4TnVtID0gMTAwMDAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1PZk51bWJlcnM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jW2BudW1iZXIke2tleShpKX1gXSA9IChtYXhOdW0gLyAyICsgKE1hdGgucmFuZG9tKCkgKiBtYXhOdW0gLyAyKSkgKiAoKGkgKyAxKSAvIDMwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMjAgZO+/vXR1bSAtIGTvv710dW1vayAyMDEwLjAxLjAxIO+/vXMgMjAxNC4xMi4zMSBr77+9eu+/vXR0aWVrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bU9mRGF0ZXMgPSAyMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluRGF0ZSA9IG5ldyBEYXRlKDIwMTAsIDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhEYXRlID0gbmV3IERhdGUoMjAxNCwgMTIsIDMxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdlbkRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUobWluRGF0ZS5nZXRUaW1lKCkgKyBNYXRoLnJhbmRvbSgpICogKG1heERhdGUuZ2V0VGltZSgpIC0gbWluRGF0ZS5nZXRUaW1lKCkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1PZkRhdGVzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY1tgZGF0ZSR7a2V5KGkpfWBdID0gZ2VuRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRyYW5HZW47Il19
