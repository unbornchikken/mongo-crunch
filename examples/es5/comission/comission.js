"use strict";
"use strict";
var es = "es6";
try {
  eval("(function *(){})");
} catch (err) {
  es = "es5";
}
var wf4node = require("workflow-4-node");
var activities = wf4node.activities;
var ActivityExecutionEngine = activities.ActivityExecutionEngine;
var path = require("path");
var util = require("util");
var _ = require("lodash");
var wf = {
  "@require": [path.join(__dirname, "../../../lib/" + es + "/activities"), path.join(__dirname, "activities")],
  "@mongoDBContext": {
    connections: process.env.MONGO_URL,
    args: {"@block": {
        transactions: {"@collectionRef": {
            name: "transactions",
            clearBeforeUse: true,
            mustExists: false
          }},
        itemisedCommission: {"@collectionRef": {
            name: "itemisedCommission",
            clearBeforeUse: true,
            mustExists: false
          }},
        itemisedCommission2: {"@collectionRef": {
            name: "itemisedCommission2",
            clearBeforeUse: true,
            mustExists: false
          }},
        aggregatedCommission: {"@collectionRef": {
            name: "aggregatedCommission",
            clearBeforeUse: true,
            mustExists: false
          }},
        fullCommission: {"@collectionRef": {
            name: "fullCommission",
            clearBeforeUse: true,
            mustExists: false
          }},
        ruleList: {"@collectionRef": {
            name: "ruleList",
            mustExists: true
          }},
        args: [{"@tranGen": {
            size: 1000,
            collection: "= transactions"
          }}, {"@console": "Transactions generated."}, {"@eachDocument": {
            querify: true,
            varName: "rule",
            documents: {"@find": {
                collection: "= ruleList",
                query: {"commission.fulfilment": {$exists: true}}
              }},
            args: {"@eachDocument": {
                querify: true,
                varName: "plan",
                documents: {"@find": {
                    collection: "= transactions",
                    query: "= rule.commission.fulfilment.plan.conditions"
                  }},
                args: {"@block": {
                    planID: "= this.get('plan')[this.get('rule').commission.fulfilment.plan.id]",
                    planTime: "= this.get('plan')[this.get('rule').commission.fulfilment.plan.time]",
                    planValue: "= this.get('plan')[this.get('rule').commission.fulfilment.plan.value]",
                    planAgentID: "= this.get('plan')['itemID01']",
                    fulfillCond: null,
                    tmp: {"@tempCollectionRef": {
                        namePrefix: "tmp",
                        deleteOnExit: false
                      }},
                    args: [{"@assign": {
                        to: "fulfillCond",
                        value: {"@merge": ["= rule.conditions ", {itemID01: "= planAgentID"}, {"@obj": ["= rule.commission.fulfilment.id", "= planID"]}, {"@obj": ["= rule.commission.fulfilment.time", {$gte: "= planTime"}]}]}
                      }}, {"@collect": {
                        source: "= transactions",
                        target: "= tmp",
                        condition: "= fulfillCond",
                        pipeline: [{$project: {"@merge": [{
                              _id: 0,
                              agentID: "$itemID01",
                              ruleID: {$literal: "= rule._id"},
                              fulfilmentValue: "= '$' + this.get('rule').commission.fulfilment.value",
                              fulfilmentID: "= '$' + this.get('rule').commission.fulfilment.id",
                              planValue: {$literal: "= planValue"}
                            }, {transactionFields: {"@merge": [{
                                  ruleID: {$literal: "= rule._id"},
                                  transactionID: "$_id"
                                }, {planValue: {$literal: "= planValue"}}, {"@payFields": "= rule.commission.fulfilment.stripes"}, "= rule.take"]}}]}}, {$group: {
                            _id: null,
                            agentID: {$first: "$agentID"},
                            ruleID: {$first: "$ruleID"},
                            fulfilmentValue: {$sum: "$fulfilmentValue"},
                            planValue: {$first: "$planValue"},
                            transactionFields: {$push: "$transactionFields"}
                          }}, {$project: {
                            agentID: 1,
                            ruleID: 1,
                            fulfilmentValue: 1,
                            planValue: 1,
                            percent: {$multiply: [{$divide: ["$fulfilmentValue", "$planValue"]}, 100]},
                            transactionFields: 1
                          }}]
                      }}, {"@collect": {
                        source: "= tmp",
                        target: "= itemisedCommission2",
                        scope: {stripes: "= rule.commission.fulfilment.stripes"},
                        map: function() {
                          var commissionValue = 0;
                          for (var i = 0; i < stripes.length; i++) {
                            var stripe = stripes[i];
                            var from = stripe.from || 0;
                            var to = stripe.to || 100000;
                          }
                          emit(this.agentID, this);
                        },
                        reduce: function(key, values) {
                          return values.length ? values[0] : values;
                        }
                      }}]
                  }}
              }}
          }}, {"@collect": {
            source: "= itemisedCommission",
            target: "= aggregatedCommission",
            pipeline: [{$group: {
                _id: {
                  agentID: "$agentID",
                  ruleID: "$ruleID"
                },
                commissionValue: {$sum: "$commissionValue"},
                transactionFields: {$push: "$transactionFields"}
              }}]
          }}, {"@collect": {
            source: "= aggregatedCommission",
            target: "= fullCommission",
            pipeline: [{$unwind: "$transactionFields"}, {$group: {
                _id: "$_id.agentID",
                commissionValue: {$sum: "$commissionValue"},
                transactionFields: {$push: "$transactionFields"}
              }}]
          }}]
      }}
  }
};
var engine = new ActivityExecutionEngine(wf);
console.log("Starting.");
engine.invoke().then(function(r) {
  console.log("Done.");
  if (r) {
    console.info("Result:\n" + util.inspect(r));
  }
}, function(e) {
  console.error(e.stack);
});
//# sourceMappingURL=data:application/json;base64,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QztBQUFBIiwiZmlsZSI6ImNvbWlzc2lvbi9jb21pc3Npb24uanMiLCJzb3VyY2VSb290IjoiZXhhbXBsZXMvZXM2Iiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgZXMgPSBcImVzNlwiO1xyXG50cnkgeyBldmFsKFwiKGZ1bmN0aW9uICooKXt9KVwiKTsgfSBjYXRjaCAoZXJyKSB7IGVzID0gXCJlczVcIjsgfVxyXG5cclxubGV0IHdmNG5vZGUgPSByZXF1aXJlKFwid29ya2Zsb3ctNC1ub2RlXCIpO1xyXG5sZXQgYWN0aXZpdGllcyA9IHdmNG5vZGUuYWN0aXZpdGllcztcclxubGV0IEFjdGl2aXR5RXhlY3V0aW9uRW5naW5lID0gYWN0aXZpdGllcy5BY3Rpdml0eUV4ZWN1dGlvbkVuZ2luZTtcclxubGV0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxubGV0IHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcclxubGV0IF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xyXG5cclxubGV0IHdmID0ge1xyXG4gICAgXCJAcmVxdWlyZVwiOiBbXHJcbiAgICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgXCIuLi8uLi8uLi9saWIvXCIgKyBlcyArIFwiL2FjdGl2aXRpZXNcIiksXHJcbiAgICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgXCJhY3Rpdml0aWVzXCIpXHJcbiAgICBdLFxyXG4gICAgXCJAbW9uZ29EQkNvbnRleHRcIjoge1xyXG4gICAgICAgIGNvbm5lY3Rpb25zOiBwcm9jZXNzLmVudi5NT05HT19VUkwsXHJcbiAgICAgICAgYXJnczoge1xyXG4gICAgICAgICAgICBcIkBibG9ja1wiOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb2xsZWN0aW9uczpcclxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiQGNvbGxlY3Rpb25SZWZcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInRyYW5zYWN0aW9uc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckJlZm9yZVVzZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVzdEV4aXN0czogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaXRlbWlzZWRDb21taXNzaW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJAY29sbGVjdGlvblJlZlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiaXRlbWlzZWRDb21taXNzaW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyQmVmb3JlVXNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdXN0RXhpc3RzOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpdGVtaXNlZENvbW1pc3Npb24yOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJAY29sbGVjdGlvblJlZlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiaXRlbWlzZWRDb21taXNzaW9uMlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckJlZm9yZVVzZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVzdEV4aXN0czogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYWdncmVnYXRlZENvbW1pc3Npb246IHtcclxuICAgICAgICAgICAgICAgICAgICBcIkBjb2xsZWN0aW9uUmVmXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJhZ2dyZWdhdGVkQ29tbWlzc2lvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckJlZm9yZVVzZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVzdEV4aXN0czogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVsbENvbW1pc3Npb246IHtcclxuICAgICAgICAgICAgICAgICAgICBcIkBjb2xsZWN0aW9uUmVmXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJmdWxsQ29tbWlzc2lvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckJlZm9yZVVzZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVzdEV4aXN0czogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcnVsZUxpc3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIkBjb2xsZWN0aW9uUmVmXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJydWxlTGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdXN0RXhpc3RzOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vIFN0ZXBzOlxyXG4gICAgICAgICAgICAgICAgYXJnczogW1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIHRyYW5zYWN0aW9uczpcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQHRyYW5HZW5cIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IFwiPSB0cmFuc2FjdGlvbnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwiQGNvbnNvbGVcIjogXCJUcmFuc2FjdGlvbnMgZ2VuZXJhdGVkLlwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBjb21taXNzaW9uOlxyXG4gICAgICAgICAgICAgICAgICAgIC8ve1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIC8vIFN0cmlwZXNcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICBcIkBlYWNoRG9jdW1lbnRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBxdWVyaWZ5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB2YXJOYW1lOiBcInJ1bGVcIixcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgZG9jdW1lbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICBcIkBmaW5kXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBcIj0gcnVsZUxpc3RcIixcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBxdWVyeToge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAkb3I6IFtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJjb21taXNzaW9uLnZhbHVlXCI6IHsgJGV4aXN0czogdHJ1ZSB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB7IFwiY29tbWlzc2lvbi5jYWxjdWxhdGVcIjogeyAkZXhpc3RzOiB0cnVlIH0gfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBhcmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICBcIkBibG9ja1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICBcIkBjb2xsZWN0XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogXCI9IHRyYW5zYWN0aW9uc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIj0gaXRlbWlzZWRDb21taXNzaW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb246IFwiPSBydWxlLmNvbmRpdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgcGlwZWxpbmU6IFtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwcm9qZWN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkBtZXJnZVwiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50SUQ6IFwiJGl0ZW1JRDAxXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVJRDoge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpdGVyYWw6IFwiPSBydWxlLl9pZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pc3Npb25WYWx1ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJAc3dpdGNoXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQHdoZW5cIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBcIj0gcnVsZS5jb21taXNzaW9uLnZhbHVlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpdGVyYWw6IFwiPSBydWxlLmNvbW1pc3Npb24udmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQHdoZW5cIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBcIj0gcnVsZS5jb21taXNzaW9uLmNhbGN1bGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogXCI9IHJ1bGUuY29tbWlzc2lvbi5jYWxjdWxhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRmllbGRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkBtZXJnZVwiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlSUQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaXRlcmFsOiBcIj0gcnVsZS5faWRcIlxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbklEOiBcIiRfaWRcIlxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI9IHJ1bGUudGFrZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy99LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsdWUgKyBjb21wdXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQGVhY2hEb2N1bWVudFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyaWZ5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyTmFtZTogXCJydWxlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkBmaW5kXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogXCI9IHJ1bGVMaXN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7IFwiY29tbWlzc2lvbi5mdWxmaWxtZW50XCI6IHsgJGV4aXN0czogdHJ1ZSB9IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQGVhY2hEb2N1bWVudFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJpZnk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhck5hbWU6IFwicGxhblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQGZpbmRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IFwiPSB0cmFuc2FjdGlvbnNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogXCI9IHJ1bGUuY29tbWlzc2lvbi5mdWxmaWxtZW50LnBsYW4uY29uZGl0aW9uc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQGJsb2NrXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFuSUQ6IFwiPSB0aGlzLmdldCgncGxhbicpW3RoaXMuZ2V0KCdydWxlJykuY29tbWlzc2lvbi5mdWxmaWxtZW50LnBsYW4uaWRdXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhblRpbWU6IFwiPSB0aGlzLmdldCgncGxhbicpW3RoaXMuZ2V0KCdydWxlJykuY29tbWlzc2lvbi5mdWxmaWxtZW50LnBsYW4udGltZV1cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFuVmFsdWU6IFwiPSB0aGlzLmdldCgncGxhbicpW3RoaXMuZ2V0KCdydWxlJykuY29tbWlzc2lvbi5mdWxmaWxtZW50LnBsYW4udmFsdWVdXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhbkFnZW50SUQ6IFwiPSB0aGlzLmdldCgncGxhbicpWydpdGVtSUQwMSddXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbENvbmQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQHRlbXBDb2xsZWN0aW9uUmVmXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVQcmVmaXg6IFwidG1wXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVPbkV4aXQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJAYXNzaWduXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogXCJmdWxmaWxsQ29uZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQG1lcmdlXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPSBydWxlLmNvbmRpdGlvbnMgXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUlEMDE6IFwiPSBwbGFuQWdlbnRJRFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQG9ialwiOiBbXCI9IHJ1bGUuY29tbWlzc2lvbi5mdWxmaWxtZW50LmlkXCIsIFwiPSBwbGFuSURcIl1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJAb2JqXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI9IHJ1bGUuY29tbWlzc2lvbi5mdWxmaWxtZW50LnRpbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGd0ZTogXCI9IHBsYW5UaW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJAY29sbGVjdFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBcIj0gdHJhbnNhY3Rpb25zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIj0gdG1wXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBcIj0gZnVsZmlsbENvbmRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXBlbGluZTogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcHJvamVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQG1lcmdlXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRJRDogXCIkaXRlbUlEMDFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVJRDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaXRlcmFsOiBcIj0gcnVsZS5faWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbG1lbnRWYWx1ZTogXCI9ICckJyArIHRoaXMuZ2V0KCdydWxlJykuY29tbWlzc2lvbi5mdWxmaWxtZW50LnZhbHVlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxmaWxtZW50SUQ6IFwiPSAnJCcgKyB0aGlzLmdldCgncnVsZScpLmNvbW1pc3Npb24uZnVsZmlsbWVudC5pZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhblZhbHVlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpdGVyYWw6IFwiPSBwbGFuVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkZpZWxkczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQG1lcmdlXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZUlEOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpdGVyYWw6IFwiPSBydWxlLl9pZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JRDogXCIkX2lkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhblZhbHVlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpdGVyYWw6IFwiPSBwbGFuVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkBwYXlGaWVsZHNcIjogXCI9IHJ1bGUuY29tbWlzc2lvbi5mdWxmaWxtZW50LnN0cmlwZXNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIj0gcnVsZS50YWtlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VudElEOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmaXJzdDogXCIkYWdlbnRJRFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlSUQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZpcnN0OiBcIiRydWxlSURcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbWVudFZhbHVlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdW06IFwiJGZ1bGZpbG1lbnRWYWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFuVmFsdWU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZpcnN0OiBcIiRwbGFuVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25GaWVsZHM6IHsgJHB1c2g6IFwiJHRyYW5zYWN0aW9uRmllbGRzXCIgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcHJvamVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50SUQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZUlEOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGZpbG1lbnRWYWx1ZTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFuVmFsdWU6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbXVsdGlwbHk6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZGl2aWRlOiBbXCIkZnVsZmlsbWVudFZhbHVlXCIsIFwiJHBsYW5WYWx1ZVwiXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkZpZWxkczogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkBjb2xsZWN0XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFwiPSB0bXBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiPSBpdGVtaXNlZENvbW1pc3Npb24yXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBlczogXCI9IHJ1bGUuY29tbWlzc2lvbi5mdWxmaWxtZW50LnN0cmlwZXNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1pc3Npb25WYWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaXBlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0cmlwZSA9IHN0cmlwZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IHN0cmlwZS5mcm9tIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG8gPSBzdHJpcGUudG8gfHwgMTAwMDAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWl0KHRoaXMuYWdlbnRJRCwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWR1Y2U6IGZ1bmN0aW9uKGtleSwgdmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID8gdmFsdWVzWzBdIDogdmFsdWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWdncmVnYXRlIHBlciBhZ2VudCBwZXIgcnVsZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJAY29sbGVjdFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFwiPSBpdGVtaXNlZENvbW1pc3Npb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCI9IGFnZ3JlZ2F0ZWRDb21taXNzaW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXBlbGluZTogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGdyb3VwOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHsgYWdlbnRJRDogXCIkYWdlbnRJRFwiLCBydWxlSUQ6IFwiJHJ1bGVJRFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21taXNzaW9uVmFsdWU6IHsgJHN1bTogXCIkY29tbWlzc2lvblZhbHVlXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uRmllbGRzOiB7ICRwdXNoOiBcIiR0cmFuc2FjdGlvbkZpZWxkc1wiIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWdncmVnYXRlIHBlciBhZ2VudFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJAY29sbGVjdFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFwiPSBhZ2dyZWdhdGVkQ29tbWlzc2lvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIj0gZnVsbENvbW1pc3Npb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpcGVsaW5lOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdW53aW5kOiBcIiR0cmFuc2FjdGlvbkZpZWxkc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBcIiRfaWQuYWdlbnRJRFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWlzc2lvblZhbHVlOiB7ICRzdW06IFwiJGNvbW1pc3Npb25WYWx1ZVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkZpZWxkczogeyAkcHVzaDogXCIkdHJhbnNhY3Rpb25GaWVsZHNcIiB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5sZXQgZW5naW5lID0gbmV3IEFjdGl2aXR5RXhlY3V0aW9uRW5naW5lKHdmKTtcclxuXHJcbmNvbnNvbGUubG9nKFwiU3RhcnRpbmcuXCIpO1xyXG5lbmdpbmUuaW52b2tlKClcclxuICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJEb25lLlwiKTtcclxuICAgICAgICBpZiAocikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oXCJSZXN1bHQ6XFxuXCIgKyB1dGlsLmluc3BlY3QocikpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XHJcbiAgICB9KTsiXX0=
